APP_NAME=CustomerPortalAPI
APP_ENV=local
APP_KEY=base64:ATL79m6Hy2F1sYnecVP1TQ2HChEGO8maROnezK7LfFE=
APP_DEBUG=true
APP_URL=https://customer-portal.local
APP_TIMEZONE=UTC

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# Database (PostgreSQL)
DB_CONNECTION=pgsql
DB_HOST=db
DB_PORT=5432
DB_DATABASE=cportal
DB_USERNAME=cportal
DB_PASSWORD=secret
DB_SCHEMA_CORE=core
DB_SCHEMA_CP=customer_portal

# Redis
REDIS_CLIENT=phpredis
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379

# Cache & Session
CACHE_STORE=redis
CACHE_PREFIX=customer_portal_cache_

SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

# Queue
QUEUE_CONNECTION=redis

# Broadcasting
BROADCAST_CONNECTION=redis
BROADCAST_DRIVER=redis

# Filesystem
FILESYSTEM_DISK=S3

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=
AWS_ENDPOINT=
# MinIO (S3 Compatible)
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=uploads
# AWS_USE_PATH_STYLE_ENDPOINT=true
# AWS_ENDPOINT=http://minio:9000
# AWS_URL=http://minio:9000/uploads

# MINIO_ENDPOINT=http://minio:9000
# MINIO_KEY=minioadmin
# MINIO_SECRET=minioadmin
# MINIO_REGION=us-east-1
# MINIO_BUCKET=uploads

# Mail
MAIL_MAILER=log
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

# WebSockets (SOKeti)
PUSHER_APP_ID=app-id
PUSHER_APP_KEY=app-key
PUSHER_APP_SECRET=app-secret
PUSHER_HOST=soketi
PUSHER_PORT=6001
PUSHER_SCHEME=http
PUSHER_APP_CLUSTER=mt1

# Reverb (Laravel Broadcasting)
REVERB_APP_ID=app-id
REVERB_APP_KEY=app-key
REVERB_APP_SECRET=app-secret
REVERB_HOST=soketi
REVERB_PORT=6001
REVERB_SCHEME=http

# Vite
VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# Elasticsearch
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX=customer_portal_logs

KEYCLOAK_SERVER_URL=http://keycloak.cportal.local
KEYCLOAK_REALM=cportal
KEYCLOAK_CLIENT_ID=cportal-api
KEYCLOAK_CLIENT_SECRET=your-client-secret
KEYCLOAK_REALM_PUBLIC_KEY=your-realm-public-key
# ==============================================
# Payment Module Configuration
# ==============================================

# ----------------------------------------------
# PayU Payment Gateway
# ----------------------------------------------
PAYMENT_PAYU_ENABLED=true
PAYMENT_PAYU_MERCHANT_KEY=HP8rJH
PAYMENT_PAYU_MERCHANT_SALT=V7Gac7VdRAYc2LyDznRxtzCAATOXBkWC
PAYMENT_PAYU_BASE_URL=https://test.payu.in
PAYMENT_PAYU_WEBHOOK_SECRET=your_webhook_secret_here

# ----------------------------------------------
# Payment Settings
# ----------------------------------------------
PAYMENT_DEFAULT_PROVIDER=payu
PAYMENT_DEFAULT_CURRENCY=INR

# ----------------------------------------------
# Transaction Fees (percentage)
# ----------------------------------------------
PAYMENT_FEE_WALLET=0.0
PAYMENT_FEE_CARD=2.0
PAYMENT_FEE_UPI=0.5
PAYMENT_FEE_NETBANKING=1.5
PAYMENT_FEE_EMI=3.0
PAYMENT_GST_PERCENTAGE=18.0

# ----------------------------------------------
# KYC Limits (INR)
# ----------------------------------------------
# Basic KYC
PAYMENT_BASIC_DAILY_LIMIT=10000.00
PAYMENT_BASIC_MONTHLY_LIMIT=50000.00
PAYMENT_BASIC_MAX_BALANCE=50000.00

# Intermediate KYC
PAYMENT_INTERMEDIATE_DAILY_LIMIT=50000.00
PAYMENT_INTERMEDIATE_MONTHLY_LIMIT=200000.00
PAYMENT_INTERMEDIATE_MAX_BALANCE=200000.00

# Full KYC
PAYMENT_FULL_DAILY_LIMIT=200000.00
PAYMENT_FULL_MONTHLY_LIMIT=1000000.00
PAYMENT_FULL_MAX_BALANCE=1000000.00

# ----------------------------------------------
# Idempotency Settings
# ----------------------------------------------
PAYMENT_IDEMPOTENCY_TTL_HOURS=24
PAYMENT_IDEMPOTENCY_AUTO_CLEANUP=true

# ----------------------------------------------
# Webhook Settings
# ----------------------------------------------
PAYMENT_WEBHOOK_MAX_ATTEMPTS=3
PAYMENT_WEBHOOK_VERIFY_SIGNATURES=true
PAYMENT_WEBHOOK_LOG_ALL=true

# ----------------------------------------------
# Reconciliation Settings
# ----------------------------------------------
PAYMENT_AUTO_RECONCILE=true
PAYMENT_RECONCILIATION_SCHEDULE="0 */6 * * *"
PAYMENT_RECONCILE_DAYS=7

# ----------------------------------------------
# Retry Settings
# ----------------------------------------------
PAYMENT_RETRY_MAX_ATTEMPTS=3
PAYMENT_RETRY_DELAY_SECONDS=60
PAYMENT_RETRY_EXPONENTIAL_BACKOFF=true

# ----------------------------------------------
# Timeout Settings (seconds)
# ----------------------------------------------
PAYMENT_TIMEOUT_INITIATION=30
PAYMENT_TIMEOUT_STATUS_CHECK=15
PAYMENT_TIMEOUT_REFUND=30
PAYMENT_TIMEOUT_WEBHOOK=10

# ----------------------------------------------
# Feature Flags
# ----------------------------------------------
PAYMENT_FEATURE_WALLET=true
PAYMENT_FEATURE_REFUNDS=true
PAYMENT_FEATURE_TRANSFERS=true
PAYMENT_FEATURE_AUTO_SETTLEMENT=false

# ----------------------------------------------
# Logging Configuration
# ----------------------------------------------
PAYMENT_LOGGING_ENABLED=true
PAYMENT_LOGGING_CHANNEL=stack
PAYMENT_LOG_REQUESTS=true
PAYMENT_LOG_RESPONSES=true
PAYMENT_MASK_SENSITIVE=true

DTDC_WALLET_API_BASE_URL=
DTDC_WALLET_OAUTH_TOKEN_URL=
DTDC_WALLET_API_KEY=
DTDC_WALLET_CLIENT_ID=
DTDC_WALLET_CLIENT_SECRET=
DTDC_WALLET_API_TIMEOUT=30
DTDC_WALLET_API_RETRY_ATTEMPTS=3
DTDC_WALLET_TOKEN_CACHE_ENABLED=true
DTDC_WALLET_TOKEN_CACHE_TTL=3600

SPA_URL=http://localhost:5000/cp/wallet
# Login Token Salt - Used to enhance token security for both JWT and Keycloak authentication
KEYCLOAK_BASE_URL=
KEYCLOAK_REALM=
KEYCLOAK_CLIENT_ID=
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_REDIRECT_URI=
POST_LOGOUT_URL=
KEYCLOAK_IGNORE_RESOURCES_VALIDATION=
KEYCLOAK_USER_PROVIDER_CUSTOM_RETRIEVE_METHOD=
KEYCLOAK_ALGORITHM=
KEYCLOAK_REALM_PUBLIC_KEY=
# Use Keycloak (default)
# AUTH_METHOD=keycloak

# OR use Laravel JWT
AUTH_METHOD=
JWT_ALGORITHM=
JWT_TTL= # 24 hours in minutes
JWT_REFRESH_TTL= #7 days in minutes
LOGIN_TOKEN_SALT=
TOKEN_HASH_ALGORITHM=

SENTRY_LARAVEL_DSN=
SENTRY_SEND_DEFAULT_PII=true
SENTRY_TRACES_SAMPLE_RATE=1.0


HEALTHCHECK_URL=http://cportal.local/api/v1/health
KAFKA_UI_HEALTHCHECK_URL=http://localhost:8080/actuator/health
MAILHOG_HEALTHCHECK_URL=http://localhost:8025
KEYCLOAK_HEALTHCHECK_URL=http://localhost:8080/health/ready
ELASTICSEARCH_HEALTHCHECK_URL=http://localhost:9200/_cluster/health
MINIO_HEALTHCHECK_URL=http://localhost:9000/minio/health/live

XDEBUG_PORT=9003
# Enable/Disable Xdebug (0 = disabled, 1 = enabled)
XDEBUG_ENABLED=1
# Xdebug mode (debug, profile, coverage, etc.)
XDEBUG_MODE=debug
# Host machine address (for Mac/Windows Docker Desktop)
XDEBUG_CLIENT_HOST=host.docker.internal
# Port for Xdebug communication (default: 9003)
XDEBUG_CLIENT_PORT=9004
# When to start debugging
# Options: yes (every request), no (never), trigger (manual via cookie/GET param)
XDEBUG_START_WITH_REQUEST=yes
# IDE key identifier
XDEBUG_IDEKEY=VSCODE

# S3 Credentials
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=
AWS_ENDPOINT=


# ----------------------------------------------
# Secret Manager
# ----------------------------------------------

# Enable/disable secrets manager
USE_SECRETS_MANAGER=true

# AWS Secrets Manager endpoint (LocalStack for dev, empty for production)
AWS_SECRETS_MANAGER_ENDPOINT=http://localstack:4566

# AWS region
AWS_SECRETS_MANAGER_REGION=us-east-1

# Secret name prefix
AWS_SECRETS_MANAGER_SECRET_PREFIX=cportal

# Optional: Cache TTL for secrets (default: 300 seconds)
AWS_SECRETS_MANAGER_CACHE_TTL=300
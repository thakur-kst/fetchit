; Xdebug 3 Configuration
; This file is conditionally enabled based on XDEBUG_ENABLED environment variable

[xdebug]
; Enable step debugging
xdebug.mode=debug

; Connect to host machine (Mac/Windows Docker Desktop)
; For Linux, this should be set to the host machine's IP address
xdebug.client_host=${XDEBUG_CLIENT_HOST:-host.docker.internal}

; Xdebug 3 default port
xdebug.client_port=${XDEBUG_CLIENT_PORT:-9004}

; Start debugging on every request
; Options: yes, no, trigger
; Use 'trigger' to start debugging only when XDEBUG_TRIGGER cookie/GET parameter is set
xdebug.start_with_request=${XDEBUG_START_WITH_REQUEST:-yes}

; IDE key identifier
xdebug.idekey=${XDEBUG_IDEKEY:-VSCODE}

; Log file for debugging connection issues
xdebug.log=/var/log/php/xdebug.log
xdebug.log_level=0

; Maximum nesting level for variables
xdebug.max_nesting_level=512

; Disable xdebug for CLI by default (can be enabled if needed)
; xdebug.start_with_request=no for CLI

